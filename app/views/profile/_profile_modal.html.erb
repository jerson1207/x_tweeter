<%= turbo_frame_tag "profile_modal" do %>
  <div data-modal-target="profile" class="hidden">
    <div class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50">
      <div class="relative w-full max-w-xl p-6 bg-white rounded-lg shadow-lg ">
        <%= close__profile_button(data: { action: 'click->modal#profile_close' }, class: "absolute top-4 right-4 text-gray-400 hover:text-gray-600") %>

        <h1 class="text-2xl font-semibold text-center text-gray-800 mb-6">Profile</h1>
        <hr class="mb-6">
        
        <div class="max-w-lg mx-auto">
          <%= form_with model: current_user, url: profile_path, method: :put, local: true, data: { turbo_frame: "profile_modal" } do |f| %>
            <%= hidden_field_tag :context, 'modal' %>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
              <div>
                <%= f.label :username, "User Name", class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :username, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
              </div>
              <div>
                <%= f.label :display_name, "Display Name", class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :display_name, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
              <div>
                <%= f.label :email, "Email", class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :email, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
              </div>
              <div>
                <%= f.label :password, "Password", class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :password, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
              </div>
            </div>

            <div class="mb-4">
              <%= f.label :bio, "Bio", class: "block text-sm font-medium text-gray-700" %>
              <%= f.text_area :bio, rows: 4, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
            </div>

            <div class="mb-4">
              <%= f.label :location, "location", class: "block text-sm font-medium text-gray-700" %>
              <%= f.text_field :location, rows: 4, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
            </div>

            <div class="mb-4">
              <%= f.label :url, "url", class: "block text-sm font-medium text-gray-700" %>
              <%= f.text_field :url, rows: 4, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
            </div>

            <div class="flex justify-end mt-6">
              <%= f.submit "Update Profile", class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>
